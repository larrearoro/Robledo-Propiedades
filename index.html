<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robledo Propiedades | Tu Inmobiliaria de Confianza</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="header-top">
            <div class="container">
                <div class="contact-header">
                    <a href="https://wa.me/5493512345678"><i class="fab fa-whatsapp"></i> +54 9 351 234-5678</a>
                    <a href="https://instagram.com/robledopropiedades"><i class="fab fa-instagram"></i> @robledopropiedades</a>
                </div>
            </div>
        </div>
        <div class="header-main">
            <div class="container">
                <div class="logo">
                    <div class="logo-icon"><i class="fas fa-home"></i></div>
                    <div class="logo-text">
                        <h1>Robledo Propiedades</h1>
                        <span>Inmobiliaria Profesional</span>
                    </div>
                </div>
                <nav>
                    <ul>
                        <li><a href="#inicio" class="active">Inicio</a></li>
                        <li><a href="#propiedades">Propiedades</a></li>
                        <li><a href="#contacto">Contacto</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section id="inicio" class="hero">
        <div class="hero-contenido">
            <h1>Encuentra tu Propiedad Ideal</h1>
            <p>Las mejores casas, departamentos y locales en venta y alquiler</p>
            <a href="#propiedades" class="btn-hero">Ver Catálogo <i class="fas fa-arrow-down"></i></a>
        </div>
    </section>

    <!-- BUSCADOR -->
    <section class="buscador-seccion">
        <div class="container">
            <div class="buscador-box">
                <h3 class="buscador-titulo"><i class="fas fa-search"></i> Buscador Inteligente</h3>
                <div class="buscador-grid">
                    <div class="buscador-grupo">
                        <label>Tipo de operación</label>
                        <select id="buscar-tipo">
                            <option value="todos">Todos</option>
                            <option value="venta">Venta</option>
                            <option value="alquiler">Alquiler</option>
                            <option value="ambos">Venta y Alquiler</option>
                        </select>
                    </div>
                    <div class="buscador-grupo">
                        <label>Tipo de propiedad</label>
                        <select id="buscar-categoria">
                            <option value="todos">Todas</option>
                            <option value="casa">Casa</option>
                            <option value="departamento">Departamento</option>
                            <option value="terreno">Terreno</option>
                            <option value="local">Local</option>
                        </select>
                    </div>
                    <div class="buscador-grupo">
                        <label>Ubicación</label>
                        <input type="text" id="buscar-ubicacion" placeholder="Ciudad, barrio...">
                    </div>
                    <button class="buscador-btn" onclick="filtrarPropiedades()">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- PROPIEDADES -->
    <section id="propiedades" class="propiedades-seccion">
        <div class="container">
            <div class="seccion-titulo">
                <h2>Nuestras Propiedades</h2>
                <p>Encontrá tu próximo hogar</p>
            </div>
            <div id="propiedades-grid" class="propiedades-grid"></div>
            <div id="sin-resultados" class="sin-resultados" style="display: none;">
                <i class="fas fa-home"></i>
                <p>No se encontraron propiedades</p>
                <button onclick="limpiarFiltros()" class="btn btn-primary">Limpiar filtros</button>
            </div>
        </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto" class="contacto-seccion">
        <div class="container">
            <div class="seccion-titulo">
                <h2>Contacto</h2>
                <p>Estamos para ayudarte</p>
            </div>
            <div class="contacto-grid">
                <div class="contacto-card">
                    <i class="fab fa-whatsapp"></i>
                    <h3>WhatsApp</h3>
                    <a href="https://wa.me/5493512345678" class="btn btn-primary">Enviar mensaje</a>
                </div>
                <div class="contacto-card">
                    <i class="fab fa-instagram"></i>
                    <h3>Instagram</h3>
                    <a href="https://instagram.com/robledopropiedades" class="btn btn-primary">Seguir</a>
                </div>
                <div class="contacto-card">
                    <i class="fas fa-envelope"></i>
                    <h3>Email</h3>
                    <a href="mailto:contacto@robledopropiedades.com" class="btn btn-primary">Enviar email</a>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-contenido">
                <div class="footer-logo">
                    <h3>Robledo Propiedades</h3>
                    <p>Tu inmobiliaria de confianza</p>
                </div>
                <div class="footer-redes">
                    <a href="https://wa.me/5493512345678"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://instagram.com/robledopropiedades"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-copy">
                <p>&copy; 2025 Robledo Propiedades. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- MODAL GALERÍA -->
    <div id="modal-galeria" class="modal">
        <div class="modal-contenido">
            <span class="modal-cerrar" onclick="cerrarModal('galeria')">&times;</span>
            <img id="modal-imagen" src="" alt="Imagen">
            <div class="modal-navegacion modal-prev" onclick="imagenAnterior()"><i class="fas fa-chevron-left"></i></div>
            <div class="modal-navegacion modal-next" onclick="imagenSiguiente()"><i class="fas fa-chevron-right"></i></div>
            <div id="modal-miniaturas" class="galeria-miniaturas"></div>
        </div>
    </div>

    <!-- MODAL MAPA -->
    <div id="modal-mapa" class="modal modal-mapa">
        <div class="modal-contenido">
            <span class="modal-cerrar" onclick="cerrarModal('mapa')">&times;</span>
            <h3 id="mapa-titulo">Ubicación</h3>
            <div id="mapa-contenedor" class="mapa-contenedor">
                <iframe id="mapa-iframe" width="100%" height="100%" style="border:0; border-radius: 10px;" allowfullscreen="" loading="lazy"></iframe>
            </div>
            <a id="mapa-link" href="" target="_blank" class="btn btn-primary" style="margin-top: 15px; display: inline-block;">
                <i class="fas fa-external-link-alt"></i> Abrir en Google Maps
            </a>
        </div>
    </div>

    <!-- BOTONES FLOTANTES -->
    <div class="contacto-flotante">
        <a href="https://wa.me/5493512345678" class="btn-flotante whatsapp"><i class="fab fa-whatsapp"></i></a>
        <a href="https://instagram.com/robledopropiedades" class="btn-flotante instagram"><i class="fab fa-instagram"></i></a>
    </div>

    <script src="propiedades.js"></script>
    <script>
        let propiedadesFiltradas = [...propiedades];
        let indiceImagenActual = 0;
        let propiedadActual = null;

        document.addEventListener('DOMContentLoaded', () => {
            filtrarPropiedades();
        });

        function filtrarPropiedades() {
            const tipo = document.getElementById('buscar-tipo').value;
            const categoria = document.getElementById('buscar-categoria').value;
            const ubicacion = document.getElementById('buscar-ubicacion').value.toLowerCase();

            propiedadesFiltradas = propiedades.filter(p => {
                if (!p.disponible) return false;
                if (tipo !== 'todos' && p.tipo !== tipo && p.tipo !== 'ambos') return false;
                const tituloLower = p.titulo.toLowerCase();
                if (categoria !== 'todos' && !tituloLower.includes(categoria)) return false;
                if (ubicacion && !p.ubicacion.toLowerCase().includes(ubicacion)) return false;
                return true;
            });

            renderizarPropiedades();
        }

        function renderizarPropiedades() {
            const grid = document.getElementById('propiedades-grid');
            const sinResultados = document.getElementById('sin-resultados');

            if (propiedadesFiltradas.length === 0) {
                grid.style.display = 'none';
                sinResultados.style.display = 'block';
                return;
            }

            grid.style.display = 'grid';
            sinResultados.style.display = 'none';

            grid.innerHTML = propiedadesFiltradas.map(p => {
                let estadoClass = p.tipo === 'venta' ? 'estado-venta' : p.tipo === 'alquiler' ? 'estado-alquiler' : 'estado-ambos';
                let estadoTexto = p.tipo === 'venta' ? 'Venta' : p.tipo === 'alquiler' ? 'Alquiler' : 'Venta y Alquiler';
                const primeraImagen = p.imagenes && p.imagenes.length > 0 ? p.imagenes[0] : 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800';

                return `
                    <div class="propiedad-card">
                        <div class="propiedad-imagen">
                            <span class="propiedad-estado ${estadoClass}">${estadoTexto}</span>
                            <img src="${primeraImagen}" alt="${p.titulo}">
                            <button class="propiedad-galeria-btn" onclick="abrirGaleria(${p.id})">
                                <i class="fas fa-images"></i> ${p.imagenes ? p.imagenes.length : 0} fotos
                            </button>
                        </div>
                        <div class="propiedad-contenido">
                            <div class="propiedad-precio">${p.precio}</div>
                            <h3 class="propiedad-titulo">${p.titulo}</h3>
                            <div class="propiedad-ubicacion">
                                <i class="fas fa-map-marker-alt"></i> ${p.ubicacion}
                            </div>
                            <button class="btn btn-outline" onclick="abrirMapa(${p.id})" style="margin-bottom: 10px; width: 100%;">
                                <i class="fas fa-map"></i> Ver ubicación
                            </button>
                            <p class="propiedad-descripcion">${p.descripcion}</p>
                            <div class="propiedad-caracteristicas">
                                ${p.dormitorios > 0 ? `<span class="caracteristica"><i class="fas fa-bed"></i> ${p.dormitorios} dorm.</span>` : ''}
                                ${p.baños > 0 ? `<span class="caracteristica"><i class="fas fa-bath"></i> ${p.baños} baños</span>` : ''}
                                ${p.metros > 0 ? `<span class="caracteristica"><i class="fas fa-ruler-combined"></i> ${p.metros} m²</span>` : ''}
                                ${p.garage > 0 ? `<span class="caracteristica"><i class="fas fa-car"></i> ${p.garage} garage</span>` : ''}
                            </div>
                            <div class="propiedad-acciones">
                                <a href="https://wa.me/5493512345678?text=Hola, me interesa: ${encodeURIComponent(p.titulo)}" class="btn btn-primary">
                                    <i class="fab fa-whatsapp"></i> Contactar
                                </a>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function limpiarFiltros() {
            document.getElementById('buscar-tipo').value = 'todos';
            document.getElementById('buscar-categoria').value = 'todos';
            document.getElementById('buscar-ubicacion').value = '';
            filtrarPropiedades();
        }

        function abrirGaleria(id) {
            propiedadActual = propiedades.find(p => p.id === id);
            if (!propiedadActual || !propiedadActual.imagenes) return;
            indiceImagenActual = 0;
            actualizarImagenGaleria();
            document.getElementById('modal-galeria').classList.add('active');
        }

        function actualizarImagenGaleria() {
            if (!propiedadActual) return;
            document.getElementById('modal-imagen').src = propiedadActual.imagenes[indiceImagenActual];
            const miniaturas = document.getElementById('modal-miniaturas');
            miniaturas.innerHTML = propiedadActual.imagenes.map((img, idx) => 
                `<img src="${img}" class="galeria-miniatura ${idx === indice
